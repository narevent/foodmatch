<!-- templates/dating/matches.html -->
{% extends 'base.html' %}

{% block title %}Your Matches - Tinder for Food{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <div class="text-center mb-8">
        <i class="fas fa-fire text-6xl text-pink-500 mb-4"></i>
        <h2 class="text-3xl font-bold text-gray-800">Your Food Matches</h2>
        <p class="text-gray-600 mt-2">These foods liked you back! Add them to your meal plan.</p>
    </div>

    {% if matches %}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for match in matches %}
        <div class="bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow">
            <!-- Food Image -->
            <div class="h-48 bg-gray-200 relative overflow-hidden">
                {% if match.food_profile.image_url %}
                <img src="{{ match.food_profile.image_url }}" alt="{{ match.food_profile.name }}" class="w-full h-full object-cover">
                {% else %}
                <div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-orange-200 to-pink-200">
                    <i class="fas fa-utensils text-4xl text-white"></i>
                </div>
                {% endif %}
                
                <!-- Match Badge -->
                <div class="absolute top-2 right-2 bg-pink-500 text-white px-2 py-1 rounded-full text-xs font-bold">
                    <i class="fas fa-heart mr-1"></i>MATCH
                </div>
                
                <!-- Calorie Badge -->
                <div class="absolute top-2 left-2 bg-white bg-opacity-90 px-2 py-1 rounded-full text-xs font-medium">
                    {{ match.food_profile.calories }} cal
                </div>
            </div>

            <!-- Food Info -->
            <div class="p-4">
                <div class="flex items-center justify-between mb-2">
                    <h3 class="text-lg font-bold text-gray-800">{{ match.food_profile.name }}</h3>
                    <span class="bg-pink-100 text-pink-600 px-2 py-1 rounded-full text-xs font-medium">
                        {{ match.food_profile.get_meal_type_display }}
                    </span>
                </div>
                
                <p class="text-gray-600 text-sm mb-3">{{ match.food_profile.description|truncatechars:80 }}</p>
                
                <div class="flex items-center text-xs text-gray-500 mb-4">
                    <i class="fas fa-globe w-3 mr-1"></i>
                    <span class="mr-3">{{ match.food_profile.cuisine_type }}</span>
                    <i class="fas fa-leaf w-3 mr-1"></i>
                    <span>{{ match.food_profile.get_diet_compatibility_display }}</span>
                </div>

                <!-- Action Button -->
                <a href="{% url 'dating:add_to_meal_plan' match.id %}" 
                   class="block w-full bg-pink-500 text-white text-center py-2 px-4 rounded-lg hover:bg-pink-600 transition-colors text-sm font-medium">
                    <i class="fas fa-calendar-plus mr-2"></i>Add to Meal Plan
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="bg-white rounded-xl shadow-lg p-8 text-center">
        <i class="fas fa-heart-broken text-6xl text-gray-300 mb-4"></i>
        <h3 class="text-xl font-bold text-gray-800 mb-2">No matches yet!</h3>
        <p class="text-gray-600 mb-4">Keep swiping to find foods that like you back.</p>
        <a href="{% url 'dating:discover' %}" class="bg-pink-500 text-white px-6 py-2 rounded-lg hover:bg-pink-600 inline-block">
            <i class="fas fa-heart mr-2"></i>Start Swiping
        </a>
    </div>
    {% endif %}
</div>
{% endblock %}